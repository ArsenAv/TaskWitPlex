{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useSelector } from \"react-redux\";\nexport const UPDATE_BOOKS = \"BOOKS/UPDATE_BOOKS\";\nexport const UPDATE_BOOK_COUNT = \"BOOKS/UPDATE_BOOK_COUNT\";\nexport const CHANGE_CURENTPAGE = \"BOOKS/CHANGE_CURENTPAGE\";\n\nfunction updateBooks(newBooks) {\n  // alert('newBooks: ' + JSON.stringify(newBooks))\n  return {\n    type: UPDATE_BOOKS,\n    payload: newBooks\n  };\n}\n\nexport const getBooksThunk = (currentPage, limit) => {\n  _s();\n\n  // alert('currentPage: ' + currentPage)\n  // alert('limit: ' + limit)\n  const defaultLimit = useSelector(state => state.books.limit);\n  const defaultCurrentPage = useSelector(state => state.books.currentPage);\n  return dispatch => {\n    axios.get(`http://localhost:5000/api/auth/books?page=${currentPage || 1}&limit=${limit || 3}`).then(res => dispatch(updateBooks(res.data))).catch(error => alert('Error getting books'));\n  };\n};\n\n_s(getBooksThunk, \"a9yOhqGBWrYBy66OtysNLHlvPqg=\", false, function () {\n  return [useSelector, useSelector];\n});\n\nfunction updateBookCount(newBooksCount) {\n  return {\n    type: UPDATE_BOOK_COUNT,\n    payload: newBooksCount\n  };\n}\n\nexport const getBookCountThunk = () => {\n  return dispatch => {\n    axios.get(`http://localhost:5000/api/auth/bookcount`).then(res => dispatch(updateBookCount(res.data))).catch(error => alert('Error update count'));\n  };\n};\nexport function updateCurrentPage(newCurrentPage) {\n  // alert('new current page: ' + newCurrentPage)\n  return {\n    type: CHANGE_CURENTPAGE,\n    payload: newCurrentPage\n  };\n}","map":{"version":3,"sources":["C:/Users/Arsen/Documents/Myproject/client/src/redux/actions.js"],"names":["axios","useSelector","UPDATE_BOOKS","UPDATE_BOOK_COUNT","CHANGE_CURENTPAGE","updateBooks","newBooks","type","payload","getBooksThunk","currentPage","limit","defaultLimit","state","books","defaultCurrentPage","dispatch","get","then","res","data","catch","error","alert","updateBookCount","newBooksCount","getBookCountThunk","updateCurrentPage","newCurrentPage"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AAEA,OAAO,MAAMC,YAAY,GAAG,oBAArB;AACP,OAAO,MAAMC,iBAAiB,GAAG,yBAA1B;AACP,OAAO,MAAMC,iBAAiB,GAAG,yBAA1B;;AAEP,SAASC,WAAT,CAAqBC,QAArB,EAA+B;AAC3B;AACA,SAAO;AAACC,IAAAA,IAAI,EAAEL,YAAP;AAAqBM,IAAAA,OAAO,EAAEF;AAA9B,GAAP;AACH;;AAGD,OAAO,MAAMG,aAAa,GAAG,CAACC,WAAD,EAAcC,KAAd,KAAwB;AAAA;;AACjD;AACA;AACA,QAAMC,YAAY,GAAGX,WAAW,CAACY,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYH,KAAtB,CAAhC;AACA,QAAMI,kBAAkB,GAAGd,WAAW,CAACY,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYJ,WAAtB,CAAtC;AACA,SAAQM,QAAD,IAAc;AACjBhB,IAAAA,KAAK,CAACiB,GAAN,CAAW,6CAA4CP,WAAW,IAAI,CAAE,UAASC,KAAK,IAAI,CAAE,EAA5F,EACKO,IADL,CACWC,GAAD,IAASH,QAAQ,CAACX,WAAW,CAACc,GAAG,CAACC,IAAL,CAAZ,CAD3B,EAEKC,KAFL,CAEWC,KAAK,IAAIC,KAAK,CAAC,qBAAD,CAFzB;AAGH,GAJD;AAKH,CAVM;;GAAMd,a;UAGYR,W,EACMA,W;;;AAO/B,SAASuB,eAAT,CAA0BC,aAA1B,EAAwC;AACpC,SAAO;AAAClB,IAAAA,IAAI,EAAEJ,iBAAP;AAA0BK,IAAAA,OAAO,EAAEiB;AAAnC,GAAP;AACH;;AAED,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACnC,SAAQV,QAAD,IAAc;AACjBhB,IAAAA,KAAK,CAACiB,GAAN,CAAW,0CAAX,EACKC,IADL,CACWC,GAAD,IAASH,QAAQ,CAACQ,eAAe,CAACL,GAAG,CAACC,IAAL,CAAhB,CAD3B,EAEKC,KAFL,CAEWC,KAAK,IAAIC,KAAK,CAAC,oBAAD,CAFzB;AAGH,GAJD;AAKH,CANM;AAQP,OAAO,SAASI,iBAAT,CAA2BC,cAA3B,EAA0C;AAC7C;AACA,SAAO;AAACrB,IAAAA,IAAI,EAAEH,iBAAP;AAA0BI,IAAAA,OAAO,EAAEoB;AAAnC,GAAP;AACH","sourcesContent":["import axios from 'axios'\r\nimport {useSelector} from \"react-redux\"\r\n\r\nexport const UPDATE_BOOKS = \"BOOKS/UPDATE_BOOKS\"\r\nexport const UPDATE_BOOK_COUNT = \"BOOKS/UPDATE_BOOK_COUNT\"\r\nexport const CHANGE_CURENTPAGE = \"BOOKS/CHANGE_CURENTPAGE\"\r\n\r\nfunction updateBooks(newBooks) {\r\n    // alert('newBooks: ' + JSON.stringify(newBooks))\r\n    return {type: UPDATE_BOOKS, payload: newBooks}\r\n}\r\n\r\n\r\nexport const getBooksThunk = (currentPage, limit) => {\r\n    // alert('currentPage: ' + currentPage)\r\n    // alert('limit: ' + limit)\r\n    const defaultLimit = useSelector(state => state.books.limit)\r\n    const defaultCurrentPage = useSelector(state => state.books.currentPage)\r\n    return (dispatch) => {\r\n        axios.get(`http://localhost:5000/api/auth/books?page=${currentPage || 1}&limit=${limit || 3}`)\r\n            .then((res) => dispatch(updateBooks(res.data)))\r\n            .catch(error => alert('Error getting books'))\r\n    }\r\n}\r\nfunction updateBookCount (newBooksCount){\r\n    return {type: UPDATE_BOOK_COUNT, payload: newBooksCount}\r\n}\r\n\r\nexport const getBookCountThunk = () => {\r\n    return (dispatch) => {\r\n        axios.get(`http://localhost:5000/api/auth/bookcount`)\r\n            .then((res) => dispatch(updateBookCount(res.data)))\r\n            .catch(error => alert('Error update count'))\r\n    }\r\n}\r\n\r\nexport function updateCurrentPage(newCurrentPage){\r\n    // alert('new current page: ' + newCurrentPage)\r\n    return({type: CHANGE_CURENTPAGE, payload: newCurrentPage})\r\n}"]},"metadata":{},"sourceType":"module"}